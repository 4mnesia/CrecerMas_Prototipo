/* static/css/style.css */

:root {
    /* --- MODO CLARO (Fondo Claro / Texto Oscuro) --- */
    --primary: #0D47A1;
    --secondary: #FB8C00;
    
    --bg-body: #EFF3F8;      /* Gris azulado muy suave */
    --bg-card: #FFFFFF;      /* Blanco */
    --bg-input: #F8F9FA;
    
    /* TIPOGRAFÍA MODO CLARO */
    --text-main: #1A1D21;    /* Casi Negro (Título y párrafos) */
    --text-muted: #546E7A;   /* Gris Oscuro (Textos pequeños, placeholder) */
    --text-inverse: #FFFFFF; /* Texto sobre botones o fondos oscuros */
    
    --border-color: #D1D5DB;
    --shadow: 0 4px 6px -1px rgba(50, 50, 93, 0.11);
    
    --navbar-bg: #0D47A1;
    --navbar-text: #FFFFFF;
    --badge-bg: rgba(255, 255, 255, 0.2);
}

[data-theme="dark"] {
    /* --- MODO OSCURO (Fondo Oscuro / Texto Claro) --- */
    --primary: #AB47BC;
    --secondary: #FFCA28;
    
    --bg-body: #050505;      /* Negro Puro */
    --bg-card: #121212;      /* Gris Carbón */
    --bg-input: #1E1E1E;
    
    /* TIPOGRAFÍA MODO OSCURO */
    --text-main: #E2E8F0;    /* Blanco Hueso (No blanco puro, descansa la vista) */
    --text-muted: #A0AEC0;   /* Gris Claro (Para textos pequeños) */
    --text-inverse: #000000;
    
    --border-color: #2D2D2D;
    --shadow: 0 10px 15px -3px rgba(171, 71, 188, 0.15);
    
    --navbar-bg: #000000;
    --navbar-text: #E2E8F0;
    --badge-bg: rgba(255, 255, 255, 0.1);
}

/* --- 1. RESET GLOBAL DE TIPOGRAFÍA (LA SOLUCIÓN) --- */
body {
    background-color: var(--bg-body);
    color: var(--text-main);
    font-family: 'Segoe UI', Roboto, sans-serif;
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Forzamos a TODOS los elementos de texto a usar nuestras variables */
h1, h2, h3, h4, h5, h6, p, li, span, div {
    color: var(--text-main);
}

/* Aquí arreglamos las "palabras chicas" (small, .text-muted, inputs) */
small, .small, .text-muted, .form-text {
    color: var(--text-muted) !important; /* !important para ganar a Bootstrap */
}

/* --- 2. OVERRIDES DE BOOTSTRAP --- */
.text-dark { color: var(--text-main) !important; }
.text-secondary { color: var(--text-muted) !important; }
.bg-white { background-color: var(--bg-card) !important; }
.bg-light { background-color: var(--bg-card) !important; }

/* --- 3. COMPONENTES --- */

/* Tarjetas */
.card {
    background-color: var(--bg-card);
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow);
    border-radius: 12px;
}
/* Asegurar que el texto dentro de card-body sea correcto */
.card-body {
    color: var(--text-main);
}

/* Navbar */
.navbar {
    background-color: var(--navbar-bg) !important;
}
.navbar-brand, .nav-link {
    color: var(--navbar-text) !important;
}
/* Forzamos blanco en el navbar incluso en modo claro */
.navbar .text-muted {
    color: rgba(255, 255, 255, 0.7) !important;
}

/* Inputs */
.form-control, .form-select {
    background-color: var(--bg-input);
    color: var(--text-main);
    border: 1px solid var(--border-color);
}
.form-control::placeholder {
    color: var(--text-muted); /* Placeholder legible */
    opacity: 1;
}
.form-control:focus {
    background-color: var(--bg-card);
    color: var(--text-main);
    border-color: var(--primary);
}

/* --- 4. EXCEPCIONES DE DISEÑO --- */

/* El Banner Principal (Hero) siempre debe tener texto blanco */
.hero-banner h1, 
.hero-banner p,
.hero-banner .text-muted,
.text-white {
    color: #FFFFFF !important;
    text-shadow: 0 2px 5px rgba(0,0,0,0.5); /* Sombra para leer sobre fotos claras */
}

/* Badge de Usuario */
.user-badge {
    background-color: var(--badge-bg);
    border: 1px solid rgba(255,255,255,0.3);
    color: #FFFFFF !important;
}

/* Tablas */
.table {
    color: var(--text-main) !important;
    border-color: var(--border-color);
}

/* Botones */
.btn-custom {
    background-color: var(--primary);
    color: #FFFFFF !important; /* Texto siempre blanco en botones */
    border: none;
    border-radius: 50px;
    padding: 10px 24px;
    font-weight: 600;
}
.btn-custom:hover {
    background-color: var(--secondary);
}